{"version":3,"file":"ahmed757-ngx-treant-js.mjs","sources":["../../src/lib/ngx-treant-js.component.ts","../../src/lib/ngx-treant-js.component.html","../../src/lib/ngx-treant-js.module.ts","../../src/public-api.ts","../../src/ahmed757-ngx-treant-js.ts"],"sourcesContent":["import { Component, AfterViewInit, Input, Output, EventEmitter } from '@angular/core';\n\ndeclare const Treant: any;\ndeclare const $: any;\n\n/**\n * A simple Angular2+ component used as a wrapper for [TreantJS](https://fperucic.github.io/treant-js/) library\n * for visualization of tree (chart) diagrams, with additional functionality.\n */\n@Component({\n    selector: 'ngx-treant-chart',\n    templateUrl: './ngx-treant-js.component.html',\n})\nexport class NgxTreantJsComponent implements AfterViewInit {\n    @Input() chartId: string;\n    @Input() chartClass: string;\n\n    @Input() data: any;\n    @Input() popoverSettings: any;\n    @Input() mouseleaveMilliseconds: number;\n    @Input() isDraggable: boolean;\n    @Input() textProps: any;\n\n    @Output() clicked: EventEmitter<any> = new EventEmitter();\n    @Output() hovered: EventEmitter<any> = new EventEmitter();\n    @Output() dragged: EventEmitter<any> = new EventEmitter();\n    @Output() dropped: EventEmitter<any> = new EventEmitter();\n    @Output() updated: EventEmitter<any> = new EventEmitter();\n\n    @Output() loadedNodes: EventEmitter<any> = new EventEmitter();\n    @Output() loadedTreant: EventEmitter<any> = new EventEmitter();\n    @Output() loadedTree: EventEmitter<any> = new EventEmitter();\n\n    constructor() {}\n\n    ngAfterViewInit(): void {\n        const callback = (callback: any) => {\n            let popoverElm1;\n            let popoverElm2;\n            let timeout;\n            let draggedNode;\n            let droppedNode;\n\n            const __this = this;\n\n            // add ids to nodeDOMs\n            for (let i = 0; i < callback.nodeDB.db.length; i++) {\n                callback.nodeDB.db[i].nodeDOM.id = callback.nodeDB.db[i].id;\n            }\n\n            this.loadedTree.emit(callback);\n\n            const $oNodes = $(`#${this.chartId} .node`);\n\n            // add support for drag and drop functionality\n            const addDragAndDropSupport = () => {\n                for (let i = 0; i < $oNodes.length; i++) {\n                    $oNodes[i].draggable = true;\n                    $oNodes[i].classList.add('drop');\n                    $oNodes[i].addEventListener('dragstart', drag, false);\n                    $oNodes[i].addEventListener('drop', drop, false);\n                    $oNodes[i].addEventListener('dragover', allowDrop, false);\n                }\n            };\n\n            // swap nodes after drag and drop\n            function swapNodes(nodes, dragIndex, dropIndex) {\n                const temp = nodes[dragIndex];\n                const dragClone = { ...temp };\n                const dropClone = { ...nodes[dropIndex] };\n\n                nodes[dragIndex] = nodes[dropIndex];\n                nodes[dropIndex] = temp;\n\n                // set dragged node props\n                nodes[dragIndex].id = dragClone.id;\n                nodes[dragIndex].nodeDOM.id = dragClone.id;\n                nodes[dragIndex].parentId = dragClone.parentId;\n                nodes[dragIndex].children = dragClone.children;\n                nodes[dragIndex].connStyle = dragClone.connStyle;\n                nodes[dragIndex].stackChildren = dragClone.stackChildren;\n                nodes[dragIndex].stackParentId = dragClone.stackParentId;\n                nodes[dragIndex].stackParent = dragClone.stackParent;\n                nodes[dragIndex].leftNeighborId = dragClone.leftNeighborId;\n                nodes[dragIndex].rightNeighborId = dragClone.rightNeighborId;\n                nodes[dragIndex].collapsed = dragClone.collapsed;\n                nodes[dragIndex].collapsable = dragClone.collapsable;\n\n                // set dropped node props\n                nodes[dropIndex].id = dropClone.id;\n                nodes[dropIndex].nodeDOM.id = dropClone.id;\n                nodes[dropIndex].parentId = dropClone.parentId;\n                nodes[dropIndex].children = dropClone.children;\n                nodes[dropIndex].connStyle = dropClone.connStyle;\n                nodes[dropIndex].stackChildren = dropClone.stackChildren;\n                nodes[dropIndex].stackParent = dropClone.stackParent;\n                nodes[dropIndex].stackParentId = dropClone.stackParentId;\n                nodes[dropIndex].leftNeighborId = dropClone.leftNeighborId;\n                nodes[dropIndex].rightNeighborId = dropClone.rightNeighborId;\n                nodes[dropIndex].collapsed = dropClone.collapsed;\n                nodes[dropIndex].collapsable = dropClone.collapsable;\n            }\n\n            function hidePopover() {\n                $(popoverElm1).popover('hide');\n                $(popoverElm2).popover('hide');\n            }\n\n            function drag(event) {\n                draggedNode = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n\n                hidePopover();\n\n                __this.dragged.emit({ draggedNode, $ });\n            }\n\n            function drop(event) {\n                event.preventDefault();\n                droppedNode = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n\n                hidePopover();\n\n                __this.dropped.emit({ draggedNode: droppedNode, droppedNode: draggedNode, $ });\n\n                const dragIndex = callback.nodeDB.db.findIndex((n) => n.id == draggedNode.id);\n                const dropIndex = callback.nodeDB.db.findIndex((n) => n.id == droppedNode.id);\n\n                swapNodes(callback.nodeDB.db, dragIndex, dropIndex);\n\n                callback.positionTree();\n            }\n\n            function allowDrop(event) {\n                event.preventDefault();\n            }\n\n            function updateTextVal(currentEle, value, classVal, node, propName) {\n                let isTextUpdated = false;\n\n                $(document).off('click');\n                $(currentEle).html(\n                    '<input class=\"input-field\" style=\"width:' +\n                        $(currentEle).width() +\n                        'px;\" type=\"text\" value=\"' +\n                        value +\n                        '\"/>'\n                );\n                $('.input-field').focus();\n                $('.input-field').keyup(function (event) {\n                    if (event.keyCode === 13) {\n                        const inputClass = $(event.target).attr('class');\n                        const newValue = $('.input-field').val() ? $('.input-field').val() : value;\n\n                        $(currentEle).html('<p class=\"' + classVal + '\">' + newValue + '</p>');\n                        if (inputClass === 'input-field') {\n                            isTextUpdated = true;\n                        }\n\n                        if (propName) {\n                            node.text[propName] = newValue;\n                            node.width = $(currentEle).width();\n                        }\n\n                        callback.positionTree();\n\n                        __this.updated.emit({ node, $ });\n                    }\n                });\n\n                $(document).click(function () {\n                    if ($(event.target).attr('class') !== 'input-field' && !isTextUpdated) {\n                        const newValue = $('.input-field').val() ? $('.input-field').val() : value;\n\n                        $(currentEle).html('<p class=\"' + classVal + '\">' + newValue + '</p>');\n                        $(document).off('click');\n\n                        if (propName) {\n                            node.text[propName] = newValue;\n                            node.width = $(currentEle).width();\n                        }\n\n                        callback.positionTree();\n\n                        __this.updated.emit({ node, $ });\n                    }\n                });\n            }\n\n            this.isDraggable && addDragAndDropSupport();\n\n            $oNodes.off('click').on('click', function (event) {\n                const node = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n\n                hidePopover();\n\n                __this.clicked.emit({ node, $ });\n            });\n\n            $oNodes.off('dblclick').on('dblclick', function (e) {\n                if ($(event.target).attr('class') !== 'input-field') {\n                    e.stopPropagation();\n                    const node = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n                    const currentEle = $(event.target);\n                    const value = $(event.target).text();\n                    const classVal = $(event.target).attr('class');\n                    const propName = classVal && classVal.split('-')[1];\n\n                    hidePopover();\n\n                    node.text &&\n                        node.text[propName] &&\n                        updateTextVal(currentEle, value, classVal, node, propName);\n                }\n            });\n\n            if (this.popoverSettings) {\n                $oNodes.popover(this.popoverSettings);\n                $oNodes\n                    .off('mouseenter')\n                    .on('mouseenter', function (e) {\n                        hidePopover();\n\n                        popoverElm1 = this;\n\n                        $(this).popover('show');\n\n                        const node = callback.nodeDB.db.find((n) => n.id == $(this).attr('id'));\n                        __this.hovered.emit({ node, $ });\n\n                        clearTimeout(timeout);\n\n                        $('.popover')\n                            .off('mouseleave')\n                            .on('mouseleave', function () {\n                                hidePopover();\n                            });\n                    })\n                    .off('mouseleave')\n                    .on('mouseleave', function (e) {\n                        let hovered = false;\n                        popoverElm2 = this;\n\n                        $('.popover').hover(\n                            function () {\n                                hovered = true;\n                            },\n                            function () {\n                                hovered = false;\n                            }\n                        );\n\n                        if (!$('.popover:hover').length) {\n                            timeout = setTimeout(() => {\n                                !hovered && hidePopover();\n                            }, __this.mouseleaveMilliseconds || 0);\n                        }\n                    });\n            }\n\n            // emit Tree nodes\n            this.loadedNodes.emit({ nodes: callback.nodeDB.db, $ });\n        };\n\n        // create Treant instance and add its container ID\n        // this instance can be useful to operate on the Tree\n        const treant = new Treant(this.data, callback, $);\n        treant.container_id = this.chartId;\n        this.loadedTreant.emit(treant);\n    }\n}\n","<div [className]=\"chartClass\" [id]=\"chartId\"></div>\n","import { NgModule } from '@angular/core';\nimport { NgxTreantJsComponent } from './ngx-treant-js.component';\n\n@NgModule({\n    declarations: [NgxTreantJsComponent],\n    imports: [],\n    exports: [NgxTreantJsComponent],\n})\nexport class NgxTreantJsModule {}\n","/*\n * Public API Surface of ngx-treant-js\n */\n\nexport * from './lib/ngx-treant-js.component';\nexport * from './lib/ngx-treant-js.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}